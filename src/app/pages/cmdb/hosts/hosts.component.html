<div nz-form nzLayout="inline" [formGroup]="searchForm">
  <button nz-button nzType="primary" (click)="showCreateDialog()">新增</button>
  <button nz-button nzType="primary" nzDanger>删除</button>
  <button nz-button nzType="primary" (click)="refresh.emit()">刷新</button>
  <nz-form-item>
    <nz-form-label [nzSpan]="6">内外IP</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input nz-input formControlName="hostInnerip" placeholder="x.x.x.x" nzSize="small">
    </nz-form-control>
  </nz-form-item >
  <nz-form-item>
    <nz-form-label [nzSpan]="6">外网IP</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="hostOuterip" placeholder="x.x.x.x" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item >
  <nz-form-item>
    <nz-form-label [nzSpan]="6">资产ID</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="assertId" placeholder="资产ID" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item >
  <nz-form-item>
    <nz-form-label [nzSpan]="6">SN</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="sn" placeholder="SN" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item >
  <nz-form-item style="padding-right: 20px;">
    <nz-form-label [nzSpan]="6">状态</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <nz-select formControlName="state" style="width: 120px;" nzSize="small">
        <nz-option nzValue="" nzLabel="All"></nz-option>
        <nz-option nzValue="idle" nzLabel="闲置"></nz-option>
        <nz-option nzValue="common" nzLabel="正常"></nz-option>
        <nz-option nzValue="fault" nzLabel="故障"></nz-option>
        <nz-option nzValue="abandon" nzLabel="废弃"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="9">HOSTNAME</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="hostName" placeholder="HOSTNAME" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item >
  <nz-form-item style="padding-right: 20px;">
    <nz-form-label [nzSpan]="9">OS TYPE</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <nz-select formControlName="osType" style="width: 120px;" nzSize="small">
        <nz-option nzValue="" nzLabel="All"></nz-option>
        <nz-option nzValue="Linux" nzLabel="Linux"></nz-option>
        <nz-option nzValue="Window" nzLabel="Window"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="8">OS NAME</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="osName" placeholder="OS NAME" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="9">OS VERSION</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="osVersion" placeholder="OS VERSION" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item>
  <nz-form-item style="padding-right: 20px;">
    <nz-form-label [nzSpan]="8">OS BIT</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <nz-select formControlName="osBit" style="width: 120px;" nzSize="small">
        <nz-option nzValue="" nzLabel="All"></nz-option>
        <nz-option nzValue="32" nzLabel="32位"></nz-option>
        <nz-option nzValue="64" nzLabel="64位"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="10">Mac地址</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="mac" placeholder="Mac地址" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="10">外网Mac地址</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input formControlName="outerMac" placeholder="外网Mac地址" nz-input nzSize="small">
    </nz-form-control>
  </nz-form-item>
</div>

<div>
  <nz-table
    #rowSelectionTable
    nzShowPagination
    nzShowSizeChanger
    [nzFrontPagination]="false"
    (nzCurrentPageDataChange)="onCurrentPageDataChange()"
    [nzData]="listOfData"
    [nzTotal]="total"
    [nzPageSize]="pageSize"
    [nzPageIndex]="pageIndex"
    [nzScroll]="{ x: '2000px', y: '500px' }"
  >
    <thead>
      <tr>
        <th nzLeft nzWidth="30px" [nzChecked]="checked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="onAllChecked($event)"></th>
        <th nzLeft nzWidth="50px">ID</th>
        <th nzLeft nzWidth="120px">内外IP</th>
        <th nzWidth="120px">外网IP</th>
        <th>状态</th>
        <th>资产ID</th>
        <th>SN</th>
        <th nzWidth="120px">hostname</th>
        <th>OS TYPE</th>
        <th>OS NAME</th>
        <th>OS VERSION</th>
        <th>OS BIT</th>
        <th>内存</th>
        <th>SSH用户名</th>
        <th>SSH端口号</th>
        <th>mac地址</th>
        <th>外网mac地址</th>
        <th nzWidth="170px">创建时间</th>
        <th nzWidth="170px">更新时间</th>
        <th nzRight nzWidth="70px">操作</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of rowSelectionTable.data">
        <td nzLeft
          [nzChecked]="setOfCheckedId.has(data.id)"
          [nzDisabled]="data.disabled"
          (nzCheckedChange)="onItemChecked(data.id, $event)"
        ></td>
        <td nzLeft>{{ data.id }}</td>
        <td nzLeft>{{ data.hostInnerip }}</td>
        <td>{{ data.hostOuterip }}</td>
        <td>{{ data.state }}</td>
        <td>{{ data.assertId }}</td>
        <td>{{ data.sn }}</td>
        <td>{{ data.hostName }}</td>
        <td>{{ data.osType }}</td>
        <td>{{ data.osName }}</td>
        <td>{{ data.osVersion }}</td>
        <td>{{ data.osBit }}</td>
        <td>{{ data.mem}}</td>
        <td>{{ data.sshUser }}</td>
        <td>{{ data.sshPort }}</td>
        <td>{{ data.mac }}</td>
        <td>{{ data.outerMac }}</td>
        <td>{{ data.createdAt | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
        <td>{{ data.updatedAt | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
        <td nzRight >
          <button nz-button nzType="text" (click)="showEditDialog(data)">
            <i nz-icon nzType="edit" nzTheme="outline"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>
