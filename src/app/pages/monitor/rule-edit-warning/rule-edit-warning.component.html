<div>
  <div nz-form nzLayout="inline" [formGroup]="searchForm">
<!--    <button nz-button nzType="primary" (click)="showCreateDialog()">新增</button>-->
<!--    <button nz-button nzType="primary" nzDanger>删除</button>-->
    <button nz-button nzType="primary" (click)="refresh.emit()">刷新</button>
    <nz-form-item>
      <nz-form-label [nzSpan]="6">状态</nz-form-label>
      <nz-form-control [nzSpan]="14">
        <input nz-input formControlName="status" placeholder="状态" nzSize="small">
      </nz-form-control>
    </nz-form-item >
    <nz-form-item>
      <nz-form-label [nzSpan]="6">开始时间</nz-form-label>
      <nz-form-control [nzSpan]="18">
<!--        <input nz-input formControlName="displayName" placeholder="显示名" nzSize="small">-->
        <nz-date-picker
          nzShowTime
          nzFormat="yyyy-MM-dd HH:mm:ss"
          formControlName="startTime"
          nzPlaceHolder="开始时间"
          (ngModelChange)="startOnChange($event)"
        ></nz-date-picker>
      </nz-form-control>
    </nz-form-item >
    <nz-form-item>
      <nz-form-label [nzSpan]="6">结束时间</nz-form-label>
      <nz-form-control [nzSpan]="18">
        <nz-date-picker
          nzShowTime
          nzFormat="yyyy-MM-dd HH:mm:ss"
          formControlName="stopTime"
          nzPlaceHolder="结束时间"
          (ngModelChange)="startOnChange($event)"
        ></nz-date-picker>
      </nz-form-control>
    </nz-form-item >
  </div>
<!--  <div>-->
<!--    <nz-table-->
<!--      #rowSelectionTable-->
<!--      nzShowPagination-->
<!--      nzShowSizeChanger-->
<!--      [nzFrontPagination]="false"-->
<!--      (nzCurrentPageDataChange)="onCurrentPageDataChange()"-->
<!--      [nzData]="ruleData"-->
<!--      [nzTotal]="total"-->
<!--      [nzPageSize]="pageSize"-->
<!--      [nzPageIndex]="pageIndex"-->
<!--      [nzScroll]="{ x: '2000px', y: '500px' }"-->
<!--      [nzLoading]="isLoadingResults"-->
<!--    >-->
<!--      <thead>-->
<!--      <tr>-->
<!--        <th nzLeft nzWidth="30px" [nzChecked]="checked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="onAllChecked($event)"></th>-->
<!--        <th nzLeft nzWidth="115px">status</th>-->
<!--        <th>labels</th>-->
<!--        <th >annotations</th>-->
<!--        <th nzWidth="170px">fingerprint</th>-->
<!--        <th nzWidth="170px">创建时间</th>-->
<!--        <th nzWidth="170px">更新时间</th>-->
<!--&lt;!&ndash;        <th nzRight nzWidth="120px">操作</th>&ndash;&gt;-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr *ngFor="let data of rowSelectionTable.data">-->
<!--        <td nzLeft-->
<!--            [nzChecked]="setOfCheckedId.has(data.id)"-->
<!--            [nzDisabled]="data.disabled"-->
<!--            (nzCheckedChange)="onItemChecked(data.id, $event)"-->
<!--        ></td>-->
<!--        <td nzLeft>-->
<!--          <nz-alert [nzType]="data.status === 'firing' ? 'error' : 'success'" [nzMessage]="data.status"></nz-alert>-->
<!--        </td>-->
<!--        <td>-->
<!--          <nz-tag [nzColor]="'blue'" *ngFor="let label of data.labels">{{label}}</nz-tag>-->
<!--        </td>-->
<!--        <td>{{ data.annotations }}</td>-->
<!--        <td>{{ data.fingerprint }}</td>-->
<!--        <td>{{ data.createdAt | date: 'yyyy-MM-dd HH:mm:ss' }}</td>-->
<!--        <td>{{ data.updatedAt | date: 'yyyy-MM-dd HH:mm:ss' }}</td>-->
<!--&lt;!&ndash;        <td nzRight style="display: flex;">&ndash;&gt;-->
<!--&lt;!&ndash;          <button nz-button nzType="text" (click)="showEditDialog(data)">&ndash;&gt;-->
<!--&lt;!&ndash;            <i nz-icon nzType="edit" nzTheme="outline"></i>&ndash;&gt;-->
<!--&lt;!&ndash;          </button>&ndash;&gt;-->
<!--&lt;!&ndash;          <button nz-button nzType="text" (click)="showViewDialog(data)">&ndash;&gt;-->
<!--&lt;!&ndash;            <i nz-icon nzType="search" nzTheme="outline"></i>&ndash;&gt;-->
<!--&lt;!&ndash;          </button>&ndash;&gt;-->
<!--&lt;!&ndash;        </td>&ndash;&gt;-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </nz-table>-->
<!--  </div>-->

  <div>
    <nz-table
        #rowSelectionTable
        nzShowPagination
        nzShowSizeChanger
        [nzFrontPagination]="false"
        [nzData]="ruleData"
        [nzTotal]="total"
        [nzPageSize]="pageSize"
        [nzPageIndex]="pageIndex"
        [nzScroll]="{ x: '1500px', y: '500px' }"
        [nzLoading]="isLoadingResults"
    >
      <thead>
      <tr>
<!--        展开的列-->
<!--        <th nzLeft nzWidth="50px"></th>-->
        <th nzLeft nzWidth="100px">status</th>
        <th>labels</th>
        <th >annotations</th>
        <th nzWidth="170px">fingerprint</th>
        <th nzWidth="170px">创建时间</th>
        <th nzWidth="170px">更新时间</th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let data of rowSelectionTable.data">
         <tr [ngStyle]="{'background-color': data.status === 'firing' ? '#fff2f0' : '#f6ffed'}">
<!--          <td nzLeft [nzExpand]="expandSet.has(data.id)" (nzExpandChange)="onExpandChange(data.id, $event)"></td>-->
          <td>
            <nz-alert [nzType]="data.status === 'firing' ? 'error' : 'success'" [nzMessage]="data.status"></nz-alert>
          </td>
          <td >
            <nz-tag class="tag-style" [nzColor]="'blue'" *ngFor="let label of data.labels">{{label}}</nz-tag>
          </td>
          <td>
            <nz-tag class="tag-style" *ngFor="let label of data.annotations">{{label}}</nz-tag>
          </td>
          <td>{{ data.fingerprint }}</td>
          <td>{{ data.createdAt | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
          <td>{{ data.updatedAt | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
        </tr>
<!--        是否可展开-->
<!--        <tr [nzExpand]="expandSet.has(data.id)">-->
<!--          <nz-tag class="tag-style" [nzColor]="'blue'" *ngFor="let label of data.labels">{{label}}</nz-tag>-->
<!--        </tr>-->
      </ng-container>
      </tbody>
    </nz-table>
  </div>
</div>
